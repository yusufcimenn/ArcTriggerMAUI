<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ArcTriggerMAUI.Pages.OrderWindowPage"
             Title="OrderWindowPage">

    <ContentPage.Resources>
        <!-- compact -->
        <x:Double x:Key="FontSmall">12</x:Double>
        <x:Double x:Key="ControlHeight">28</x:Double>
        <x:Double x:Key="ChipHeight">26</x:Double>

        <Style TargetType="Label">
            <Setter Property="TextColor" Value="{DynamicResource PrimaryTextColor}" />
            <Setter Property="FontSize" Value="{StaticResource FontSmall}" />
        </Style>

        <Style TargetType="Entry">
            <Setter Property="HeightRequest" Value="{StaticResource ControlHeight}" />
            <Setter Property="BackgroundColor" Value="{DynamicResource SecondaryBackgroundColor}" />
            <Setter Property="TextColor" Value="{DynamicResource PrimaryTextColor}" />
            <Setter Property="PlaceholderColor" Value="#8A8A8A" />
            <Setter Property="Margin" Value="4,0" />
        </Style>

        <Style TargetType="Picker">
            <Setter Property="HeightRequest" Value="{StaticResource ControlHeight}" />
            <Setter Property="BackgroundColor" Value="{DynamicResource SecondaryBackgroundColor}" />
            <Setter Property="TextColor" Value="{DynamicResource PrimaryTextColor}" />
            <Setter Property="TitleColor" Value="#8A8A8A" />
            <Setter Property="Margin" Value="4,0" />
        </Style>

        <Style TargetType="Button">
            <Setter Property="HeightRequest" Value="28" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="BackgroundColor" Value="#242e2a" />
            <Setter Property="TextColor" Value="White" />
            <Setter Property="Padding" Value="8,2" />
            <Setter Property="Margin" Value="4,0" />
        </Style>

        <Style x:Key="ChipButton" TargetType="Button">
            <Setter Property="HeightRequest" Value="{StaticResource ChipHeight}" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="BackgroundColor" Value="{DynamicResource SecondaryBackgroundColor}" />
            <Setter Property="TextColor" Value="{DynamicResource PrimaryTextColor}" />
            <Setter Property="BorderColor" Value="#3A3A3A" />
            <Setter Property="BorderWidth" Value="1" />
            <Setter Property="Padding" Value="2,2" />
            <Setter Property="Margin" Value="4,0" />
        </Style>

        <!-- colors -->
        <Color x:Key="PageBackgroundColor">#0E1116</Color>
        <Color x:Key="SecondaryBackgroundColor">#1B1F24</Color>
        <Color x:Key="PrimaryTextColor">#EDEDED</Color>
        <Color x:Key="CardBorderColor">#2A2F36</Color>
        <Color x:Key="AccentGreen">#25C160</Color>
    </ContentPage.Resources>

    <!-- Ortalanmış yatay bar -->
    <Grid Padding="8" HorizontalOptions="Fill" VerticalOptions="Fill">
        <Frame WidthRequest="1600"
           HeightRequest="100"
           HorizontalOptions="Center"
           VerticalOptions="Center"
           BackgroundColor="{DynamicResource SecondaryBackgroundColor}"
           BorderColor="{DynamicResource CardBorderColor}"
           CornerRadius="12"
           HasShadow="False"
           Padding="8">

            <!-- Tek satır; genişlerse yatay kaydır -->
            <ScrollView Orientation="Horizontal" HeightRequest="100">
                <HorizontalStackLayout Spacing="10" Padding="6,4" VerticalOptions="Center">

                    <!-- Stock -->
                    <VerticalStackLayout WidthRequest="140" Spacing="2">
                        <Label Text="Stock Symbol" />
                        <Picker Title="Select a stock" SelectedIndexChanged="OnSymbolChanged">
                            <Picker.Items>
                                <x:String>AAPL</x:String>
                                <x:String>MSFT</x:String>
                                <x:String>NVDA</x:String>
                                <x:String>TSLA</x:String>
                            </Picker.Items>
                        </Picker>
                    </VerticalStackLayout>

                    <!-- Trigger -->
                    <VerticalStackLayout WidthRequest="190" Spacing="2">
                        <Label Text="Trigger Price" />
                        <Grid ColumnSpacing="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="28" />
                                <ColumnDefinition Width="28" />
                            </Grid.ColumnDefinitions>
                            <Entry Grid.Column="0" Placeholder="135.00" Keyboard="Numeric" TextChanged="OnTriggerPriceTextChanged"/>
                            <Button Grid.Column="1" Text="▲" Clicked="OnIncreaseTriggerClicked"/>
                            <Button Grid.Column="2" Text="▼" Clicked="OnDecreaseTriggerClicked"/>
                        </Grid>
                    </VerticalStackLayout>

                    <!-- Order type -->
                    <VerticalStackLayout WidthRequest="170" Spacing="2">
                        <Label Text="Order Type" />
                        <HorizontalStackLayout Spacing="12" VerticalOptions="Center">
                            <RadioButton Content="Call" IsChecked="True"
                           TextColor="{DynamicResource PrimaryTextColor}"
                           CheckedChanged="OnCallOptionCheckedChanged"/>
                            <RadioButton Content="Put"
                           TextColor="{DynamicResource PrimaryTextColor}"
                           CheckedChanged="OnPutOptionCheckedChanged"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>

                    <!-- Strike & Exp -->
                    <VerticalStackLayout WidthRequest="220" Spacing="2">
                        <Label Text="Strike / Exp" />
                        <Grid ColumnSpacing="6">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Picker Grid.Column="0" Title="Strike" SelectedIndexChanged="OnStrikeChanged">
                                <Picker.Items>
                                    <x:String>130</x:String>
                                    <x:String>135</x:String>
                                    <x:String>140</x:String>
                                </Picker.Items>
                            </Picker>
                            <Picker Grid.Column="1" Title="Exp" SelectedIndexChanged="OnExpirationChanged">
                                <Picker.Items>
                                    <x:String>2025-09-20</x:String>
                                    <x:String>2025-10-18</x:String>
                                    <x:String>2025-11-15</x:String>
                                </Picker.Items>
                            </Picker>
                        </Grid>
                    </VerticalStackLayout>

                    <!-- Position -->
                    <!-- Position -->
                    <VerticalStackLayout WidthRequest="260" Spacing="2">
                        <Label Text="Position Size ($)" />
                        <Entry Placeholder="500" Keyboard="Numeric" TextChanged="OnPositionTextChanged"/>

                        <Grid ColumnSpacing="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Button Grid.Column="0" Text="$2K" Style="{StaticResource ChipButton}"
            Clicked="OnPositionPresetClicked"/>
                            <Button Grid.Column="1" Text="$5K" Style="{StaticResource ChipButton}"
            Clicked="OnPositionPresetClicked"/>
                            <Button Grid.Column="2" Text="$10K" Style="{StaticResource ChipButton}"
            Clicked="OnPositionPresetClicked"/>
                        </Grid>
                    </VerticalStackLayout>


                    <!-- Stop loss -->
                    <!-- Stop loss -->
                    <VerticalStackLayout WidthRequest="260" Spacing="2">
                        <Label Text="Stop Loss ($)" />
                        <Entry Placeholder="130.00" Keyboard="Numeric" TextChanged="OnStopLossTextChanged"/>

                        <Grid ColumnSpacing="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Button Grid.Column="0" Text="$0.20" Style="{StaticResource ChipButton}"
                            Clicked="OnStopLossPreset"/>
                            <Button Grid.Column="1" Text="$0.50" Style="{StaticResource ChipButton}"
                             Clicked="OnStopLossPreset"/>
                            <Button Grid.Column="2" Text="$1.00" Style="{StaticResource ChipButton}"
                            Clicked="OnStopLossPreset"/>
                        </Grid>
                    </VerticalStackLayout>


                    <!-- CTA -->
                    <Button Text="Save"
                  BackgroundColor="{DynamicResource AccentGreen}"
                  TextColor="Black"
                  FontAttributes="Bold"
                  HeightRequest="32"
                  CornerRadius="10"
                  Padding="14,4"
                  VerticalOptions="Center"
                  Clicked="OnCreateOrderClicked"/>

                    <Button Text="Cancel"
                    BackgroundColor="DarkRed"
                    TextColor="{DynamicResource PrimaryTextColor}"
                    BorderColor="{DynamicResource CardBorderColor}"
                    BorderWidth="1"
                    HeightRequest="32"
                    CornerRadius="10"
                    Padding="14,4"
                    Margin="4,0,0,0"
                    VerticalOptions="Center"
                    Clicked="OnCancelClicked"/>

                    <Button Text="+"
                    Style="{StaticResource ChipButton}"
                    WidthRequest="28"
                    HeightRequest="28"
                    Padding="0"
                    VerticalOptions="Center"
                    Clicked="OnAddOrderClicked"/>
                </HorizontalStackLayout>
            </ScrollView>
        </Frame>
    </Grid>
</ContentPage>
